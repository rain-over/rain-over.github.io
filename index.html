<html>
  <head>
    <title>ChatGPT Data Export</title>
    <style>
      body {
        margin: 20px;
      }
      h4 {
        font-family: sans-serif;
        margin: 0;
      }
      #root {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }
      .conversation {
        border: 1px solid black;
        padding: 20px;
        background-color: #f3f3f3;
      }
      .message {
        white-space: pre-wrap;
        margin: 20px 0;
      }
      .author {
        font-weight: bold;
        margin-bottom: 4px;
      }
      .author::first-letter {
        text-transform: uppercase;
      }
    </style>
    <script>
      var jsonData = [{"title": "Retrieve Available Pets C#", "create_time": 1694939771.741995, "update_time": 1694942522.0, "mapping": {"53bca817-22d3-4c04-aff5-9207f4f7fbdd": {"id": "53bca817-22d3-4c04-aff5-9207f4f7fbdd", "message": {"id": "53bca817-22d3-4c04-aff5-9207f4f7fbdd", "author": {"role": "system", "name": null, "metadata": {}}, "create_time": null, "update_time": null, "content": {"content_type": "text", "parts": [""]}, "status": "finished_successfully", "end_turn": true, "weight": 0.0, "metadata": {}, "recipient": "all"}, "parent": "aaa1277b-e047-4b70-bed0-1a3b64d3c19b", "children": ["aaa27cd3-cbb1-4367-9ebc-f01a72944657"]}, "aaa1277b-e047-4b70-bed0-1a3b64d3c19b": {"id": "aaa1277b-e047-4b70-bed0-1a3b64d3c19b", "message": null, "parent": null, "children": ["53bca817-22d3-4c04-aff5-9207f4f7fbdd"]}, "aaa27cd3-cbb1-4367-9ebc-f01a72944657": {"id": "aaa27cd3-cbb1-4367-9ebc-f01a72944657", "message": {"id": "aaa27cd3-cbb1-4367-9ebc-f01a72944657", "author": {"role": "user", "name": null, "metadata": {}}, "create_time": 1694939771.742619, "update_time": null, "content": {"content_type": "text", "parts": ["using c# write a console application that retrieves all pets in petstore.swagger.io/v2  with status of available "]}, "status": "finished_successfully", "end_turn": null, "weight": 1.0, "metadata": {"timestamp_": "absolute", "message_type": null}, "recipient": "all"}, "parent": "53bca817-22d3-4c04-aff5-9207f4f7fbdd", "children": ["8237f3f9-786d-4060-835a-94b250002868"]}, "8237f3f9-786d-4060-835a-94b250002868": {"id": "8237f3f9-786d-4060-835a-94b250002868", "message": {"id": "8237f3f9-786d-4060-835a-94b250002868", "author": {"role": "assistant", "name": null, "metadata": {}}, "create_time": 1694939780.718106, "update_time": null, "content": {"content_type": "text", "parts": ["To retrieve all pets with a status of &quot;available&quot; from the Petstore Swagger API using C#, you can use the `HttpClient` class to make HTTP requests to the API and the `Newtonsoft.Json` library to parse the JSON response. Make sure to install the `Newtonsoft.Json` package via NuGet if you haven&#x27;t already. Here&#x27;s a sample console application to do this:\n\n```csharp\nusing System;\nusing System.Collections.Generic;\nusing System.Net.Http;\nusing System.Threading.Tasks;\nusing Newtonsoft.Json;\n\nclass Program\n{\n    static async Task Main()\n    {\n        string baseUrl = &quot;https://petstore.swagger.io/v2&quot;;\n        string status = &quot;available&quot;;\n\n        using (HttpClient client = new HttpClient())\n        {\n            try\n            {\n                // Send a GET request to retrieve pets with the specified status\n                HttpResponseMessage response = await client.GetAsync($&quot;{baseUrl}/pet/findByStatus?status={status}&quot;);\n\n                if (response.IsSuccessStatusCode)\n                {\n                    // Read the response content as a string\n                    string responseBody = await response.Content.ReadAsStringAsync();\n\n                    // Deserialize the JSON response into a list of Pet objects\n                    List&lt;Pet&gt; pets = JsonConvert.DeserializeObject&lt;List&lt;Pet&gt;&gt;(responseBody);\n\n                    // Display the list of available pets\n                    foreach (var pet in pets)\n                    {\n                        Console.WriteLine($&quot;ID: {pet.Id}, Name: {pet.Name}&quot;);\n                    }\n                }\n                else\n                {\n                    Console.WriteLine($&quot;Error: {response.StatusCode} - {response.ReasonPhrase}&quot;);\n                }\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine($&quot;An error occurred: {ex.Message}&quot;);\n            }\n        }\n    }\n}\n\n// Define a class to represent the Pet object\npublic class Pet\n{\n    public long Id { get; set; }\n    public string Name { get; set; }\n    // Add other properties as needed\n}\n```\n\nMake sure to replace `&quot;https://petstore.swagger.io/v2&quot;` with the correct base URL if it has changed since my knowledge cutoff date. This code sends a GET request to the Petstore API, retrieves pets with the status &quot;available,&quot; and displays their IDs and names. You can add more properties to the `Pet` class as needed to capture other information about the pets."]}, "status": "finished_successfully", "end_turn": true, "weight": 1.0, "metadata": {"finish_details": {"type": "stop", "stop_tokens": [100260]}, "is_complete": true, "message_type": null, "model_slug": "text-davinci-002-render-sha", "parent_id": "aaa27cd3-cbb1-4367-9ebc-f01a72944657", "timestamp_": "absolute"}, "recipient": "all"}, "parent": "aaa27cd3-cbb1-4367-9ebc-f01a72944657", "children": ["aaa22119-6ca0-47a0-b6f4-c25b88b12a72"]}, "aaa22119-6ca0-47a0-b6f4-c25b88b12a72": {"id": "aaa22119-6ca0-47a0-b6f4-c25b88b12a72", "message": {"id": "aaa22119-6ca0-47a0-b6f4-c25b88b12a72", "author": {"role": "user", "name": null, "metadata": {}}, "create_time": 1694942522.050381, "update_time": null, "content": {"content_type": "text", "parts": ["using c# write a console application that retrieves all pets in petstore.swagger.io/v2  with status of available. Print all pet grouped by category "]}, "status": "finished_successfully", "end_turn": null, "weight": 1.0, "metadata": {"timestamp_": "absolute", "message_type": null}, "recipient": "all"}, "parent": "8237f3f9-786d-4060-835a-94b250002868", "children": ["b4c7a37e-f2f9-4b4f-97f8-cf0943ce3cd2"]}, "b4c7a37e-f2f9-4b4f-97f8-cf0943ce3cd2": {"id": "b4c7a37e-f2f9-4b4f-97f8-cf0943ce3cd2", "message": {"id": "b4c7a37e-f2f9-4b4f-97f8-cf0943ce3cd2", "author": {"role": "assistant", "name": null, "metadata": {}}, "create_time": 1694942530.457321, "update_time": null, "content": {"content_type": "text", "parts": ["To retrieve all pets with a status of &quot;available&quot; from the Petstore Swagger API and print them grouped by category, you can modify the C# console application as follows. We&#x27;ll group the pets by their category and then print the details for each category:\n\n```csharp\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Net.Http;\nusing System.Threading.Tasks;\nusing Newtonsoft.Json;\n\nclass Program\n{\n    static async Task Main()\n    {\n        string baseUrl = &quot;https://petstore.swagger.io/v2&quot;;\n        string status = &quot;available&quot;;\n\n        using (HttpClient client = new HttpClient())\n        {\n            try\n            {\n                // Send a GET request to retrieve pets with the specified status\n                HttpResponseMessage response = await client.GetAsync($&quot;{baseUrl}/pet/findByStatus?status={status}&quot;);\n\n                if (response.IsSuccessStatusCode)\n                {\n                    // Read the response content as a string\n                    string responseBody = await response.Content.ReadAsStringAsync();\n\n                    // Deserialize the JSON response into a list of Pet objects\n                    List&lt;Pet&gt; pets = JsonConvert.DeserializeObject&lt;List&lt;Pet&gt;&gt;(responseBody);\n\n                    // Group pets by category\n                    var groupedPets = pets.GroupBy(pet =&gt; pet.Category.Name);\n\n                    // Print pets by category\n                    foreach (var categoryGroup in groupedPets)\n                    {\n                        Console.WriteLine($&quot;Category: {categoryGroup.Key}&quot;);\n                        foreach (var pet in categoryGroup)\n                        {\n                            Console.WriteLine($&quot;  ID: {pet.Id}, Name: {pet.Name}&quot;);\n                        }\n                        Console.WriteLine();\n                    }\n                }\n                else\n                {\n                    Console.WriteLine($&quot;Error: {response.StatusCode} - {response.ReasonPhrase}&quot;);\n                }\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine($&quot;An error occurred: {ex.Message}&quot;);\n            }\n        }\n    }\n}\n\n// Define a class to represent the Pet object\npublic class Pet\n{\n    public long Id { get; set; }\n    public string Name { get; set; }\n    public Category Category { get; set; }\n    // Add other properties as needed\n}\n\n// Define a class to represent the Category object\npublic class Category\n{\n    public long Id { get; set; }\n    public string Name { get; set; }\n}\n```\n\nThis code groups the pets by their category and then prints the pets within each category. Make sure to replace `&quot;https://petstore.swagger.io/v2&quot;` with the correct base URL if it has changed since my knowledge cutoff date."]}, "status": "finished_successfully", "end_turn": true, "weight": 1.0, "metadata": {"finish_details": {"type": "stop", "stop_tokens": [100260]}, "is_complete": true, "message_type": null, "model_slug": "text-davinci-002-render-sha", "parent_id": "aaa22119-6ca0-47a0-b6f4-c25b88b12a72", "timestamp_": "absolute"}, "recipient": "all"}, "parent": "aaa22119-6ca0-47a0-b6f4-c25b88b12a72", "children": []}}, "moderation_results": [], "current_node": "b4c7a37e-f2f9-4b4f-97f8-cf0943ce3cd2", "plugin_ids": null, "conversation_id": "2b440be1-6a31-4457-8b05-89e9747c5a62", "conversation_template_id": null, "id": "2b440be1-6a31-4457-8b05-89e9747c5a62"}]

      function getConversationMessages(conversation) {
          var messages = [];
          var currentNode = conversation.current_node;
          while (currentNode != null) {
              var node = conversation.mapping[currentNode];
              if (
                  node.message &&
                  node.message.content &&
                  node.message.content.content_type == "text"
                  && node.message.content.parts.length > 0 &&
                  node.message.content.parts[0].length > 0 &&
                  (node.message.author.role !== "system"  || node.message.metadata.is_user_system_message)
              ) {
                  author = node.message.author.role;
                  if (author === "assistant") {
                      author = "ChatGPT";
                  } else if (author === "system" && node.message.metadata.is_user_system_message) {
                      author = "Custom user info"
                  }
                  messages.push({ author, text: node.message.content.parts[0] });
              }
              currentNode = node.parent;
          }
          return messages.reverse();
      }

      // on load, add messages to the root div
      window.onload = function() {
          var root = document.getElementById("root");
          for (var i = 0; i < jsonData.length; i++) {
              var conversation = jsonData[i];
              var messages = getConversationMessages(conversation);
              var div = document.createElement("div");
              div.className = "conversation";
              div.innerHTML = "<h4>" + conversation.title + "</h4>";
              for (var j = 0; j < messages.length; j++) {
                  var message = document.createElement("pre");
                  message.className = "message";
                  message.innerHTML = `<div class="author">${messages[j].author}</div><div>${messages[j].text}</div>`;
                  div.appendChild(message);
              }
              root.appendChild(div);
          }
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>